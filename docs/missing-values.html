<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Missing values | Anime Visualization</title>
  <meta name="description" content="Chapter 4 Missing values | Anime Visualization" />
  <meta name="generator" content="bookdown 0.25 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Missing values | Anime Visualization" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Missing values | Anime Visualization" />
  
  
  

<meta name="author" content="Haozhong Zheng and Weixun Qian" />


<meta name="date" content="2022-05-05" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-transformation.html"/>
<link rel="next" href="results.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">AniVisual</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction<span></span></a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#questions-we-want-to-focus"><i class="fa fa-check"></i><b>1.1</b> Questions we want to focus<span></span></a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#how-do-we-solve-these-questions"><i class="fa fa-check"></i><b>1.2</b> How do we solve these questions<span></span></a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#additional-features"><i class="fa fa-check"></i><b>1.3</b> Additional features<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources<span></span></a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#description-of-dataset"><i class="fa fa-check"></i><b>2.1</b> Description of dataset<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation<span></span></a></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values<span></span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="missing-values.html"><a href="missing-values.html#data-import-and-basic-examination"><i class="fa fa-check"></i><b>4.1</b> Data import and basic examination<span></span></a></li>
<li class="chapter" data-level="4.2" data-path="missing-values.html"><a href="missing-values.html#deal-with-missing-values-in-the-profile-dataset"><i class="fa fa-check"></i><b>4.2</b> Deal with missing values in the profile dataset<span></span></a></li>
<li class="chapter" data-level="4.3" data-path="missing-values.html"><a href="missing-values.html#deal-with-missing-values-in-the-ratings-dataset"><i class="fa fa-check"></i><b>4.3</b> Deal with missing values in the ratings dataset<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results<span></span></a>
<ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#sentiment-analysis"><i class="fa fa-check"></i><b>5.1</b> Sentiment Analysis<span></span></a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="results.html"><a href="results.html#heatmap"><i class="fa fa-check"></i><b>5.1.1</b> Heatmap<span></span></a></li>
<li class="chapter" data-level="5.1.2" data-path="results.html"><a href="results.html#cluster-plot"><i class="fa fa-check"></i><b>5.1.2</b> Cluster Plot<span></span></a></li>
<li class="chapter" data-level="5.1.3" data-path="results.html"><a href="results.html#pca"><i class="fa fa-check"></i><b>5.1.3</b> PCA<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component<span></span></a>
<ul>
<li class="chapter" data-level="6.1" data-path="interactive-component.html"><a href="interactive-component.html#overview"><i class="fa fa-check"></i><b>6.1</b> Overview<span></span></a></li>
<li class="chapter" data-level="6.2" data-path="interactive-component.html"><a href="interactive-component.html#introduction-1"><i class="fa fa-check"></i><b>6.2</b> Introduction<span></span></a></li>
<li class="chapter" data-level="6.3" data-path="interactive-component.html"><a href="interactive-component.html#anime-by-genre"><i class="fa fa-check"></i><b>6.3</b> Anime by Genre<span></span></a></li>
<li class="chapter" data-level="6.4" data-path="interactive-component.html"><a href="interactive-component.html#recommendation"><i class="fa fa-check"></i><b>6.4</b> Recommendation<span></span></a></li>
<li class="chapter" data-level="6.5" data-path="interactive-component.html"><a href="interactive-component.html#potential-problems"><i class="fa fa-check"></i><b>6.5</b> Potential Problems<span></span></a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion<span></span></a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Anime Visualization</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="missing-values" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">Chapter 4</span> Missing values<a href="missing-values.html#missing-values" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>In this part, we deal with missing values from two datasets: Anime Rating and User Profile. Since the myAnimeList website maintains a well-structured database, most of its entries are complete, except for some unavoidable data entries. We will examine the two datasets and see if there are some patterns in it.</p>
<div id="data-import-and-basic-examination" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> Data import and basic examination<a href="missing-values.html#data-import-and-basic-examination" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<pre><code>## # A tibble: 6 x 5
##   user_id anime_id rating watching_status watched_episodes
##     &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;           &lt;dbl&gt;            &lt;dbl&gt;
## 1       0       67      9               1                1
## 2       0     6702      7               1                4
## 3       0      242     10               1                4
## 4       0     4898     NA               1                1
## 5       0       21     10               1                0
## 6       0       24      9               1                5</code></pre>
<pre><code>## # A tibble: 6 x 6
##   profile         gender birthday     favorites_anime                            num_favorite   age
##   &lt;chr&gt;           &lt;chr&gt;  &lt;chr&gt;        &lt;chr&gt;                                             &lt;dbl&gt; &lt;dbl&gt;
## 1 DesolatePsyche  Male   Oct 2, 1994  [&#39;33352&#39;, &#39;25013&#39;, &#39;5530&#39;, &#39;33674&#39;, &#39;1482~          165    28
## 2 baekbeans       Female Nov 10, 2000 [&#39;11061&#39;, &#39;31964&#39;, &#39;853&#39;, &#39;20583&#39;, &#39;918&#39;,~           83    22
## 3 skrn            &lt;NA&gt;   &lt;NA&gt;         [&#39;918&#39;, &#39;2904&#39;, &#39;11741&#39;, &#39;17074&#39;, &#39;23273&#39;~           74    NA
## 4 edgewalker00    Male   Sep 5        [&#39;5680&#39;, &#39;849&#39;, &#39;2904&#39;, &#39;3588&#39;, &#39;37349&#39;]             40    NA
## 5 aManOfCulture99 Male   Oct 30, 1999 [&#39;4181&#39;, &#39;7791&#39;, &#39;9617&#39;, &#39;5680&#39;, &#39;2167&#39;, ~           80    23
## 6 eneri           &lt;NA&gt;   &lt;NA&gt;         [&#39;5114&#39;, &#39;4898&#39;, &#39;2904&#39;, &#39;1575&#39;, &#39;1482&#39;]             40    NA</code></pre>
</div>
<div id="deal-with-missing-values-in-the-profile-dataset" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> Deal with missing values in the profile dataset<a href="missing-values.html#deal-with-missing-values-in-the-profile-dataset" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><img src="finalproj_files/figure-html/unnamed-chunk-51-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>From the plot above, we could see that the largest proportion of rows are complete, but there are still a considerable amount of rows which have 1,2,3 missing values, and we will examine column distribution of missing values.</p>
<pre><code>##                 col_na_profile
## age                      42470
## birthday                 34920
## gender                   27871
## profile                      0
## favorites_anime              0
## num_favorite                 0</code></pre>
<p>From the table we could see that the age, birthday, and gender columns all have a lot of missing values, while the profile, favorite_anime and num_favorite columns are all filled with informative values.</p>
<p>Next, we examine the missing value distribution in a more broad perspective, as the dataset is too large and not feasible for this plot, we sampled only 200 rows randomly, which qualifies to display the general trend of the data. From the plot we could see that the three columns have large ratio of missing values, this makes sense since these three rows are all sensitive information of the users and some of them may not be willing to share this information, and all anime-related columns are filled completely, which meets our expectation.</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-53-1.png" width="672" style="display: block; margin: auto;" />
With the plot_missing function, we could see five different missing patterns (if any column is missing). The largest portion of data is complete, and the most common missing pattern is that all three columns that involve sensitive information (age, birthday and gender) are missing, then is age and birthday, other missing patterns are relatively uncommon.</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-54-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="deal-with-missing-values-in-the-ratings-dataset" class="section level2 hasAnchor" number="4.3">
<h2><span class="header-section-number">4.3</span> Deal with missing values in the ratings dataset<a href="missing-values.html#deal-with-missing-values-in-the-ratings-dataset" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Next, we examine the missing values in the rating dataset. From the table below, we could see that slightly more than half of the dataset is complete, but there are still considerable amount of rows that have at least one missing value. This makes sense in the website description, since some of the users may mark the watching status of a certain anime, but they may not rate it right away, which leads to a large portion of unrated anime in the rating database.</p>
<pre><code>##   row_na_rating     Freq
## 1             0 12506062
## 2             1  9340576
## 3             2       94</code></pre>
<p>Next, we examine the missing pattern among columns. We could see that most of the missing values lie in the rating column, and very few lie in the watching_status column. The first point has been addressed in the previous paragraph, and the second point makes sense because users may very rarely mark the watching status as an invalid value that cannot be correctly encoded by the system, which leads to the 165 missing values in this column.</p>
<pre><code>##                  col_na_rating
## rating                 9340599
## watching_status            165
## user_id                      0
## anime_id                     0
## watched_episodes             0</code></pre>
<p>Similar to the last part, we have to sample the dataset to make the plot, and we could see that almost all missing values lie in the rating column.</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-57-1.png" width="672" style="display: block; margin: auto;" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-transformation.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="results.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/AnimeVisual/AnimeVisualization/edit/main/04-missing.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/AnimeVisual/AnimeVisualization/blob/main/04-missing.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
